# 메모리 관리

## 배경

각각의 프로세스는 독립된 메모리 공간을 갖고, 운영체제 또는 다른 프로세스의 메모리 공간에 접근할 수 없는 제한이 걸려있다. 단지 운영체제만이 운영체제 메모리 영역과 사용자 메모리 영역의 접근에 제약을 받지 않는다.

-   Swapping: CPU 할당 시간이 끝난 프로세스의 메모리를 보조 기억장치(하드디스크 등)로 내보내고 다른 프로세스의 메모리를 불러들이는 것
    -   swap-in: 주기억장치(RAM)으로 불러오는 과정
    -   swap-out: 보조 기억장치로 내보내는 과정
-   단편화 (Fragmentation): 메모리에 프로세스를 적재, 제거를 반복하는 과정에서 생기는 사용 불가능한 공간

    -   외부 단편화: 메모리의 남는 공간 < 프로세스 크기일 때 사용할 수 없는 부분

        물리 메모리 사이의 남는 공간들을 모두 합치면 충분한 공간이 되는데, 남는 공간이 분산되어 있을 때 발생한다.

    -   내부 단편화: 메모리의 남는 공간 > 프로세스 크기일 때 사용되지 않고 남은 부분

## Paging

메모리 공간이 연속적으로 할당되어야 한다는 제약조건이 없는 메모리 관리 기법이다.

가상 메모리(논리 메모리)를 사용한다. 물리 메모리 공간을 Frame이라는 고정 크기로 분할하고, 논리 메모리는 Page라는 고정 크기로 분할한다.

프로세스를 페이지 크기에 따라 분할하여 비어있는 Frame에 페이지를 적재하고, 각 Page가 Frame에 mapping되어 저장된다.

단, Frame 크기가 고정되어 있기 때문에 내부 단편화가 발생한다.

## Segmentation

페이징과 달리 고정 크기로 분할하지 않고, 서로 다른 크기의 논리적 단위인 Segment로 분할한다.

세그먼트 테이블에 세그먼트 시작 주소와 offset을 저장하여 관리한다.

단, Segment 크기가 고정되어 있지 않으므로 적재, 제거가 반복되다 보면, 외부 단편화가 발생한다.
