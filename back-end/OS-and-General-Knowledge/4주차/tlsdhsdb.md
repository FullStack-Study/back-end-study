# Summary 



## 프로세스 동기화

여러개의 프로세스가 병렬적으로 실행되는 상황에서 동일한 자원에 동시에 접근한다면 데이터의 일관성을 해칠 수 있다. 즉, 어떤 공유 data에 접근 중인 프로세스가 있을 때 해당 프로세스를 제외 한 다른 프로세스가 접근하는 것을 막지않으면 데이터의 일관성을 해칠 수 있다는 소리이다. 이러한 상황을 막기 위해 다른 프로세스의 접근을 제한하는 것을 프로세스 동기화라고 한다.

## 임계영역

임계영역이란 병렬적 실행에서 프로세스 코드 중 공유   data에 접근하는 부분을 말한다.어떤 타이밍에 임계영역의 코드를 실행중인 프로세스는 단 하나 뿐이어야 한다. 만약, 두개이상의 프로세스가 임계영역의 코드를 실행 중이라면 경쟁조건이 발생한다.

병렬실행으로 이해 임계영역이 동시에 실행되고 경쟁조건이 발생하면 예상한 값이 아닌 다른 값이 발생하게 된다. 이러한 문제에 대한 해결책에 대해 알아보자.

### 조건

1. 상호배제 : 어떤 프로세스가 임계영역을 실행중이라면 다른 프로세스들은 임계영역을 실행할 수 없다.
2. 진행 : 임계영역을 실행중인 프로세스는 없고 진입을 원하는 프로세스들이 있을 때 반드시 바로 프로세스를 선택하여 임계영역을 실행해야한다.
3. 한정된 대기 : 임계영역에 진입 요청하는 횟수가 유한하다. 즉 언젠가는 반드시 진입할 수 있다는 것이다. 

### 뮤텍스 

공유 데이타에 대한 락(boolean)을 가진 프로세스가 있다면 다른 프로세스는 해당 공유 데이터에 접근 할 수 없다.

#### 세마포어

정수형 변수로, 가용 자원 개수를 나타낸다. 공유 데이타가 프로세스에 의해 사용중이면 wait() 를 통해 세마포어를 줄이고 사용이 완료되면  signal()을 통해 세마포어를 1 늘린다. 그러나 세마포어는 wait()와 signal()의 호출 순서가 바뀌면 문제가 발생한다는 단점이 있다. 순서가 변경되어 서로의 wait() signal()이 얽혀 서로가 서로의 공유자원을 해제해 줄 때 까지 대기하고 있어야 하는 상태가 발생할 수 있으며 해당 상황이 발생하면 무한 대기를 일으킨다. 이를 교착상태라고 한다.

#### 모니터

공유 데이터인 balance의 일관성을 유지하는 방법이다.balance는 `deposit()`에 의해 증가할 수도 있고 , `withdraw()` 에 의해 감소 할 수 있다. 

## 

## 메모리 관리 전략

### 논리 vs 물리 공간

CPU가 생성하는 주소는 논리주소라 하며 메모리가 취급하는 주소를 물리 주소라 한다.매핑이라는 작업을 통해 가상 주소에서 물리주소로 바꿀 수 있다.이는 메모리 관리 유닛에서 관리한다.

### 메모리 관리 적략 

메모리 용량 증대에 따라 프로그램의 크기도 커졌다. 이러한 상황에서 제한된 메모리로 효율적인 사용과 메모리 참조 방식을 제공하기 위한 전략을 소개하고자 한다.

1. 재배치 : 프로그램은 디스크에 있다가 메인 메모리에 올라가서 프로세스가 되는 데, 그때 다시 재배치를 통해 메모리 관리를 수행해야한다.
2. 보호 : 다른 프로세스에 속한 프로그램들은 허가 없이 읽기나 쓰기를 위해 임의의 프로세스 메모리를 참조하면 안된다.더불어 메모리 보호는 운영체제가 아니라 처리기에 의해 이루어져야한다 왜냐하면 프로그램이 만들어 내는 메모리 참조를 운영체제는 예측할 수가 없기 때문이다.
3. 공유 : 필수적인 보호 기능을 침해하지 않는 범위에서 제한된 접근을 통해 메모리의 일부분을 공유할 수 있도록 허용해야한다. 
4. 논리적 구성 
5. 물리적 구성 : 적재는 메모리 관리에서 수행해야한다.

### 효과적인 메모리 사용

1. 동적 적재 : 프로그램 실행에 반드시 필요한 루틴과 데이터만 적재하는 기법
2. 동적 연결 : 라이브러리 루틴 연결을 컴파일 시점에 하는 것이 아닌 실행 시점까지 미루는 기법
3. 스와핑 : 프로세스가 실행되기 위해서는 메모리에 있어야 하지만, 프로세스는 실행 중에 임시로 예비저장장치에 내보내여 졌다가 실행을 계속하기 위해 다시 메모리로 돌아올 수 있다.

### 연속 메모리 할당 

1. 고정 분할 기법 : 시스템 생성시 주 기억장치가 고정된 파티션들로 분할된다.내부 단편화 등의 문제가 있다.
2. 동적 분할 기법 : 파티션들이 동적으로 생성되며, 각 프로세스는 자신의 크기와 일치하는 크기의 파티션에 적재한다.할당과 제거를 반복하다보면 외부 단편화가 발생한다. 외부단편화를 줄이기 위한 할당 방식으로 최초적합 최적적합 최악적합 이 있다.
3. 버디 시스템 : 큰 버퍼들을 반복적으로 이등분하여 작은 버퍼들을 만들며, 가능할 때 마다 인접한 빈 버퍼들을 합치는 과정을 반복한다. 

### 불연속 메모리 관리

1. 페이징 : 메모리 공간이 연속적으로 할당되어야 한다는 제약 조건을 없애는 메모리 관리 전략이다.
2. 세그멘테이션 : 페이징 기법과 반대로 논리 메모리와 물리 메모리를 같은 크기의 블록이 아닌 서로 다른 크기의 논리적 단위인 세그먼트로 분할.
3. 페이징 + 세그멘테이션 : 두가지 방법을 혼용하여 외부단편화와 내부단편화를 최대한 줄이는 전략
4. 메모리 풀 : 필요한 메모리 공간을 크기 개수만큼 사용자가 직접 지정하여 미리 할당 받아 놓고 필요할 때마다 사용하고 반납하는 기법.



