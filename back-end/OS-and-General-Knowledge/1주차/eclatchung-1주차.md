#### 학습내용
    1. 프로세스와 스레드 차이
    2. 멀티 스레드
        - 장단점
        - 멀티스레드와 멀티프로세스
    3. 스케쥴러 
        - 장기
        - 중기
        - 단기

# 1. 프로세스 (process)
## 정의
- 일을 처리하는 일련의 과정
- 운영체제로 부터 시스템 지원 할당 받는 작업 단위
- 연속적으로 실행되고 있는 프로그램
- 메모리에 올라와 실행되고 있는 프로그램의 인스턴스

** 응용프로그램 > 인스턴스 > 프로세스
- 인스턴스  : 응용 프로그램을 메모리에 띄운것 여러개 띄우면 여러개 
- 프로세스 : 여러개 띄운 인스턴스 중 초점이 있는것 

## 구조
- code : 코드 자체 구성, 메모리 영역( 프로그램 명령 )
- data : 전역변수 , 정적 변수, 배열 ( 초기화된 데이터 )
- stack : 지역변수 , 매개변수, 리터값 (임시 메모리)
- heap : 독적 할당시 사용 
- PCB : process control block

## 콘텍스트 스위치
- CPU 가 여러 프로세스를 사용시에 여러 프로세스를 왔다갔다함.
- 멀티 프로세스 환경에서 CPU가 어떤 하나의 프로세스를 실행하고 있는 상태에서 인터럽트 요청에 의해 다음 우선 순위의 프로세스가 실행되어야할 때 기존의 프로세스 상태 또는 레지스터 값을 저장하고 CPU가 다음 프로세스 상태를 적재하는 작업
- **반복시 CPU 부담, 중복된 자원 비효울적임 => 멀티쓰레드 사용** 

# 2. 스레드 (thread)
- 한 프로세스 내에서 동작되는 여러 실행의 흐름
- 하나의 프로그램을 여러개 켜는 것보다 하나의 프로그램 안에서 여러 작업을 해결
- 공유 메모리 모델 
- 프로세스 하나에 자원을 공유하면서 일련의 과정을 여러개 동시에 실행
- 한 프로세스 내의 주소 공간이나 자원 공유
- 1 프로세스에는 1 쓰레드를 가짐 (해당 스레드는 메인 스레드라고 부름 / 스레드가 추가 생성되지 않는 한 모든 프로그램 코드는 메인 스레드에서 실행)

## 멀티 스레드
<br>
<img src="https://t1.daumcdn.net/cfile/tistory/995444505AD60F8314">

- 스레드 안에는 stack 포함 되어있다. 
    - 이유 : 스택의 LIFO 성질 때문에 프로세스가 섞인채 순서대로 나오게 되면 오류 발생
- 장점
    1. 응답시간이 짧다.
    2. 처리율이 높다.
    3. 시스템 자원 소모가 작다.
    4. 프로세스 간 통신 방법에 비해 스레드 간의 통신 방법이 훨씬 간단하다.
- 단점
    1. 미묘한 시간차와 변수로 인해 오류 발생가능하다 ( 동기화 처리 )
    2. 디버깅하기가 어렵다
## 멀티 프로세스 
- 장점
    - 안정성이 높다. (독립된 구조)
- 단점
    - 각각 독립된 메모리 영역을 갖고 있어 작업량 많을 수록 오베 해드 발생한다.

# 3. 스케쥴링
- 프로세싱 생성되어 실행될 때 필요한 시스템의 여러 자원을 해당 프로세스에 할당
- 프로세스 생성에서 완료 까지 프로세스는 여러 스케쥴링 작업을 거침

<br>

- 종류
    1. 장기
        <br>
        어떤 프로세스가 시스템 자원을 차지 할 수 있도록 할것인가 결정하여 준비 상태로 큐로 보냄 ( 작업 스케쥴러에 의해 실행 )
    2. 중기
        <br>
        어떤 프로세스들이 CPU에 할당 받을 지 결정하는 작업 (부화 조절)
    3. 단기 
        <br>
        프로세스가 실행되기 위한 CPU 할당 받을 시기와 특정 프로세스 지정하는 작업

- 목적
    1. 공정성
    2. 처리율 증가
    3. CPU 이용률 증가
    4. 우선 순위
    5. 오버헤드 최소화
    6. 응답시간 최소화
    7. 반환 시간 최소화
    8. 대기 시간 최소화
    9. 균형있는 자원 사용
    10. 무한 연기 회피 

- 종류
    - 비선점 스케쥴링
        - 이미 할당된 자원을 다른 프로세스가 강탈할 수 없음
        - 응답시간의 예측이 편하고 일괄 처리 방식에 적합함
        - 종류
            + FIFO : 먼저 도착한 순서대로 처리  
            + SJF : 수행 시간이 가장 짧은 것부터 처리
            + HRN : 대기 시간과 수행시간에 따라 우선순위 계산
    - 선점 스케쥴링 
        - 우선순위가 높은 프로세스를 빠르게 처리할 수 있음
        - 어떤 프로세스가 자원을 사용하고 있을 때 우선순위가 더 높은 프로세스가 올경우 자운을 강탈함
        - 오버헤드가 큼
        - 종류
            + RR(라운드 로빈) : 각 프로세스들이 돌아가면서 정해진 시간 만큼 처리 
            + 멀티 큐 : 작업들을 그룹화하고 각각 독립적인 큐에 넣은 후 스케쥴링 알고리즘에 따라 CPU 시간을 할당
            + shortest job first scheduling : SJF를 선점형 스타일로 변경한 것으로, 작업 실행 중 남은 시간보다 더짧은 시간의 작업이 들어오면 실행 중인것을 중단하고 새 작업 실행 

