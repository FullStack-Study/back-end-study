# 3장 :: 템플릿 ( part 1) 

### 개방폐쇄 원칙 OCP
- 코드에서 어떤 부분은 변경을 통해 그 기능이 다양해지고 확장하려는 성질을 가짐
- 어떤 부분은 고정되어 있고 변하지 않으려는 성질이 있음

### 템플릿
- 이렇게 바뀌는 성질이 다른 코드 중에서 변경이 거의 일어나지 않으며 일정한 패턴으로 유지되는 특성을 가진 부분을 자유롭게 변경되는 성질을 가진 부분으로 부터 독립시켜서 효과적으로 활용할 수 있도록 하는 방법

### 예외 처리
- 중간에 어떤 이유로든 예외가 발생했을 경우에도 사용한 리소스를 반드시 반환 하도록 만들어야 함.
- `try/catch/finally` 구문 사용 권장
	- `try` : 예외가 발생할 가능이 있는 코드를 묶음
	- `catch` : 예외가 발생했을 때 부가적인 작업을 해줄 수 있도록 catch블록을 둠
	- `finally` : try 블록에서 예외가 발생했을 때나 안했을 때나 모두 실행 
- `Copy&Paste` 신공을 사용하기 쉽다…⇒ 에라가 많이 생길 수가 있다…

### 템플릿 메소드 패턴
- 상속을 통해 기능을 확장하여 사용하는 부분
- 슈퍼클래스 : 변하지 않는 부분
- 추상메소드 : 변하는 부분
- 서브클래스에서 추상메소드를 오버라이드하여 새롭게 정의해서 씀
- 단점
	- 로직마다 상속을 통해 새로운 클래스를 만들어야함
	- 확장구조가 이미 클래스를 설계하는 시점에서 고정되어버림

### 전략패턴
- OCP관점에서 확장에 해당하는 변하는 부분을 별도의 클래스로 만들어 추상화된 인터페이스를 통해 위임하는 방식
- Context가 어떤 전략을 사용하게 할것인가는 Client가 결정하는 것이 일반적

![](0710DB69-293E-4699-88EB-6A2E64789CEA.png)

### 마이크로 DI
- DI : 제 3자의 도움을 통해 두 오브젝트 사이의 유연한 관계가 설정되도록 만드는 것이 중요한 개념
- DI가 매우 작은 단위의 코드와 메소드 사이에 일어나기도함 
- DI의 장점을 단순화하여 IoC 컨테이너의 도움 없이 코드 내에서 적용한 경우를 마이크로 DI라고 함 
- 코드에 의한 DI / 수동 DI

### 중첩 클래스
- 다른 클래스 내부에 정의되는 클래스를 지칭함
- 독립적인 오브젝트로 만들어 질 수 있는 `static class`와 자신이 정의된 클래스의 오브젝트 안에서만 만들어질 수 있는 `inner class/내부 클래스` 로 구분
- 내부 클래스 : 범위에 따라 구분
	- 멤버 내부 클래스
		- 멤버 필드처럼 오브젝트 레벨에 정의되는 멤버 내부 클래스
	- 로컬클래스
		- 메소드 레벨에 정의되는 로컬클래스
	- 익명 내부 클래스
		- 이름을 갖지 않음

#### 익명 내부 클래스
- 이름을 갖지 않는 클래스
- 클래스 선언과 오브젝트 생성이 결합된 형태로 만들어짐
- 클래스 선언과 오브젝트 생성이 결합된 형태로 만들어짐
- `new 인터페이스이름() { 클래스 본문};`

